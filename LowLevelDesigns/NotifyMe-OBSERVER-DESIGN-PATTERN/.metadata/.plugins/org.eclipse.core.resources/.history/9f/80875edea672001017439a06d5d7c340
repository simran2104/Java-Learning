package Stocks;
import java.util.*;
import NotificateAlert.NotificationAlertObserver;

public class IphoneObservable implements StockObservables {
	List<NotificationAlertObserver> listOfObservers = new ArrayList<>();
	int currentStockCount = 0;
	
	@Override
	public void add(NotificationAlertObserver obj) {
		listOfObservers.add(obj);
		System.out.println("Notification Added!");
	}

	@Override
	public void remove(NotificationAlertObserver obj) {
		listOfObservers.remove(obj);
	}

	@Override
	public void notifySubscribers() {
		System.out.println("Lets Notify");
		for(NotificationAlertObserver obj: listOfObservers) {
			obj.update();
		}
	}

	@Override
	public void setStockCount(int newStockCount) {
		if(currentStockCount != newStockCount) {
			currentStockCount = newStockCount;
			if(currentStockCount == 0) {
				notifySubscribers();
			}
		}
		
	}

	@Override
	public int getStockCount() {
		return currentStockCount;
	}
	
}
